<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CISM Certification Interactive Study Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .main-nav {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-weight: 600;
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .content-area {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 2rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #2d3748;
            margin: 25px 0 15px 0;
            font-size: 1.4rem;
        }

        .domain-card {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .domain-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .domain-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 15px;
        }

        .domain-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2d3748;
        }

        .domain-weight {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .subdomain {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .subdomain h4 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .subdomain ul {
            list-style-type: none;
            padding-left: 0;
        }

        .subdomain li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .subdomain li:before {
            content: "→";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-top: 4px solid #667eea;
        }

        .info-card h4 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-setup {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-setup select, .quiz-setup button {
            margin: 10px;
            padding: 12px 20px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1rem;
        }

        .quiz-setup button {
            background: #667eea;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-setup button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .question-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-number {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
        }

        .timer {
            font-size: 1.2rem;
            font-weight: bold;
            color: #e53e3e;
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .options {
            list-style: none;
        }

        .option {
            background: #f7fafc;
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .option.selected {
            background: #e6fffa;
            border-color: #38b2ac;
        }

        .option.correct {
            background: #f0fff4;
            border-color: #38a169;
        }

        .option.incorrect {
            background: #fed7d7;
            border-color: #e53e3e;
        }

        .quiz-controls {
            text-align: center;
            margin: 20px 0;
        }

        .quiz-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 0 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .quiz-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .quiz-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        .results {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f0fff4, #c6f6d5);
            border-radius: 12px;
            margin: 20px 0;
        }

        .score {
            font-size: 3rem;
            font-weight: bold;
            color: #2f855a;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .alert {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .warning {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .responsive-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .responsive-table th,
        .responsive-table td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }

        .responsive-table th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        .responsive-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-nav {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 200px;
                text-align: center;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .domain-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .question-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🛡️ CISM Certification Study Guide</h1>
            <p>Comprehensive Interactive Guide for Certified Information Security Manager</p>
        </header>

        <nav class="main-nav">
            <button class="nav-btn active" onclick="showSection('introduction')">Introduction</button>
            <button class="nav-btn" onclick="showSection('domain1')">Domain 1</button>
            <button class="nav-btn" onclick="showSection('domain2')">Domain 2</button>
            <button class="nav-btn" onclick="showSection('domain3')">Domain 3</button>
            <button class="nav-btn" onclick="showSection('domain4')">Domain 4</button>
            <button class="nav-btn" onclick="showSection('assessment')">Assessment</button>
        </nav>

        <main class="content-area">
            <!-- Introduction Section -->
            <section id="introduction" class="section active">
                <h2>CISM Certification Overview</h2>
                
                <div class="alert">
                    <strong>Latest Update:</strong> This guide reflects the current CISM exam content outline as of 2025, with no major updates since June 2022.
                </div>

                <h3>📋 Exam Format</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Exam Structure</h4>
                        <ul>
                            <li><strong>Questions:</strong> 150 multiple-choice questions</li>
                            <li><strong>Duration:</strong> 4 hours</li>
                            <li><strong>Format:</strong> Computer-based testing</li>
                            <li><strong>Delivery:</strong> PSI testing centers worldwide or remote proctoring</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Scoring</h4>
                        <ul>
                            <li><strong>Scale:</strong> 200-800 points</li>
                            <li><strong>Passing Score:</strong> 450 points</li>
                            <li><strong>Languages:</strong> English, Chinese Simplified, Japanese, Spanish</li>
                            <li><strong>Results:</strong> Preliminary score on-screen, official results within 10 business days</li>
                        </ul>
                    </div>
                </div>

                <h3>💼 Experience Requirements</h3>
                <div class="highlight">
                    <strong>Minimum Requirements:</strong>
                    <ul>
                        <li>5 years of professional information security work experience within 10 years before application</li>
                        <li>3 years must be in information security management</li>
                        <li>Experience must cover at least 3 of the 4 CISM domains</li>
                        <li>Adherence to ISACA's Code of Professional Ethics</li>
                    </ul>
                </div>

                <div class="info-card">
                    <h4>Experience Waivers Available</h4>
                    <ul>
                        <li>Up to 2 years waived for relevant certifications (CISSP, CISA, PMP)</li>
                        <li>Up to 2 years waived for relevant post-graduate degree</li>
                        <li>CISA holders receive 2-year general information security waiver</li>
                    </ul>
                </div>

                <h3>💰 Cost Breakdown (2025)</h3>
                <table class="responsive-table">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>ISACA Member</th>
                            <th>Non-Member</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Exam Fee</td>
                            <td>$575</td>
                            <td>$760</td>
                        </tr>
                        <tr>
                            <td>Application Processing Fee</td>
                            <td>$50</td>
                            <td>$50</td>
                        </tr>
                        <tr>
                            <td>Annual Maintenance Fee</td>
                            <td>$45</td>
                            <td>$85</td>
                        </tr>
                        <tr>
                            <td>ISACA Membership (Optional)</td>
                            <td>$145 (first year)</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>

                <h3>🔄 Maintenance Requirements</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Continuing Professional Education (CPE)</h4>
                        <ul>
                            <li><strong>Annual:</strong> Minimum 20 CPE hours</li>
                            <li><strong>3-Year Cycle:</strong> Total 120 CPE hours</li>
                            <li><strong>Activities:</strong> Training, conferences, professional development</li>
                            <li><strong>Reporting:</strong> Must report annually by January 1st</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Renewal Process</h4>
                        <ul>
                            <li><strong>Cycle:</strong> Every 3 years</li>
                            <li><strong>Fee:</strong> Annual maintenance fee required</li>
                            <li><strong>Audit:</strong> Random CPE audits conducted</li>
                            <li><strong>Reinstatement:</strong> $50 fee if certification lapses</li>
                        </ul>
                    </div>
                </div>

                <div class="warning">
                    <strong>Important:</strong> You can take the exam without meeting experience requirements, but must gain required experience within 5 years to obtain certification.
                </div>
            </section>

            <!-- Domain 1 Section -->
            <section id="domain1" class="section">
                <h2>Domain 1: Information Security Governance</h2>
                
                <div class="domain-card">
                    <div class="domain-header">
                        <div class="domain-title">Information Security Governance</div>
                        <div class="domain-weight">17% of Exam</div>
                    </div>
                    <p>This domain focuses on developing, maintaining, and managing information security governance frameworks aligned with organizational objectives.</p>
                </div>

                <h3>📊 Domain Overview</h3>
                <p>Information Security Governance ensures that security strategies align with business objectives and comply with applicable laws and regulations. It provides direction for cybersecurity activities and ensures organizational security objectives are effectively met.</p>

                <h3>🎯 Sub-domains and Topics</h3>
                
                <div class="subdomain">
                    <h4>A. Enterprise Governance</h4>
                    <ul>
                        <li><strong>Organizational Culture:</strong> Understanding how culture impacts security strategy implementation</li>
                        <li><strong>Legal, Regulatory and Contractual Requirements:</strong> Compliance with laws, regulations, and contractual obligations</li>
                        <li><strong>Organizational Structures, Roles and Responsibilities:</strong> Defining clear security roles and accountability</li>
                        <li><strong>Enterprise Risk Management Integration:</strong> Aligning security governance with overall risk management</li>
                        <li><strong>Board and Executive Engagement:</strong> Securing leadership commitment and oversight</li>
                    </ul>
                </div>

                <div class="subdomain">
                    <h4>B. Information Security Strategy</h4>
                    <ul>
                        <li><strong>Information Security Strategy Development:</strong> Creating comprehensive security strategies</li>
                        <li><strong>Information Governance Frameworks and Standards:</strong> Implementing frameworks like ISO 27001, NIST, COBIT</li>
                        <li><strong>Strategic Planning:</strong> Budget allocation, resource planning, and business case development</li>
                        <li><strong>Performance Measurement:</strong> Defining KPIs and metrics for governance effectiveness</li>
                        <li><strong>Stakeholder Communication:</strong> Reporting and communicating governance activities</li>
                    </ul>
                </div>

                <h3>🎯 Key Supporting Tasks</h3>
                <div class="highlight">
                    <ul>
                        <li>Identify internal and external influences on information security strategy</li>
                        <li>Establish and maintain information security strategy aligned with organizational goals</li>
                        <li>Establish and maintain information security governance framework</li>
                        <li>Integrate information security governance into corporate governance</li>
                        <li>Establish and maintain information security policies</li>
                        <li>Develop business cases to support information security investments</li>
                        <li>Gain ongoing commitment from senior leadership and stakeholders</li>
                    </ul>
                </div>

                <h3>📚 Study Focus Areas</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Governance Frameworks</h4>
                        <ul>
                            <li>ISO 27001/27002</li>
                            <li>NIST Cybersecurity Framework</li>
                            <li>COBIT 2019</li>
                            <li>PCI DSS</li>
                            <li>HIPAA</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Key Concepts</h4>
                        <ul>
                            <li>Governance vs. Management</li>
                            <li>Risk appetite and tolerance</li>
                            <li>Board oversight responsibilities</li>
                            <li>Compliance management</li>
                            <li>Strategic alignment</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Domain 2 Section -->
            <section id="domain2" class="section">
                <h2>Domain 2: Information Security Risk Management</h2>
                
                <div class="domain-card">
                    <div class="domain-header">
                        <div class="domain-title">Information Security Risk Management</div>
                        <div class="domain-weight">20% of Exam</div>
                    </div>
                    <p>This domain empowers you to analyze and identify potential information security risks, threats, and vulnerabilities, providing comprehensive risk management capabilities.</p>
                </div>

                <h3>📊 Domain Overview</h3>
                <p>Information Security Risk Management focuses on identifying, assessing, and treating information security risks to acceptable levels based on organizational risk appetite. It encompasses both strategic and operational risk management activities.</p>

                <h3>🎯 Sub-domains and Topics</h3>
                
                <div class="subdomain">
                    <h4>A. Information Security Risk Assessment</h4>
                    <ul>
                        <li><strong>Emerging Risk and Threat Landscape:</strong> Identifying new and evolving threats and vulnerabilities</li>
                        <li><strong>Vulnerability and Control Deficiency Analysis:</strong> Systematic identification and analysis of weaknesses</li>
                        <li><strong>Risk Assessment and Analysis:</strong> Quantitative and qualitative risk assessment methodologies</li>
                        <li><strong>Risk Identification Techniques:</strong> Asset-based, threat-based, and vulnerability-based approaches</li>
                        <li><strong>Business Impact Analysis:</strong> Understanding potential impacts of security incidents</li>
                    </ul>
                </div>

                <div class="subdomain">
                    <h4>B. Information Security Risk Response</h4>
                    <ul>
                        <li><strong>Risk Treatment/Risk Response Options:</strong> Accept, avoid, transfer, or mitigate risk strategies</li>
                        <li><strong>Risk and Control Ownership:</strong> Defining clear accountability for risk management</li>
                        <li><strong>Risk Monitoring and Reporting:</strong> Continuous monitoring and stakeholder communication</li>
                        <li><strong>Risk Appetite and Tolerance:</strong> Defining acceptable levels of risk</li>
                        <li><strong>Control Selection and Implementation:</strong> Choosing appropriate risk treatment measures</li>
                    </ul>
                </div>

                <h3>🎯 Key Supporting Tasks</h3>
                <div class="highlight">
                    <ul>
                        <li>Participate in and oversee risk identification, assessment, and treatment processes</li>
                        <li>Participate in and oversee vulnerability assessment and threat analysis</li>
                        <li>Identify and implement appropriate risk treatment options</li>
                        <li>Determine effectiveness of information security controls</li>
                        <li>Facilitate integration of information risk management into business processes</li>
                        <li>Monitor for factors requiring risk reassessment</li>
                        <li>Report on information security risk to key stakeholders</li>
                    </ul>
                </div>

                <h3>📚 Study Focus Areas</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Risk Assessment Methods</h4>
                        <ul>
                            <li>Qualitative risk assessment</li>
                            <li>Quantitative risk assessment</li>
                            <li>FAIR (Factor Analysis of Information Risk)</li>
                            <li>OCTAVE methodology</li>
                            <li>NIST Risk Management Framework</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Key Metrics</h4>
                        <ul>
                            <li>Risk register components</li>
                            <li>Risk appetite statements</li>
                            <li>Key Risk Indicators (KRIs)</li>
                            <li>Recovery Time Objective (RTO)</li>
                            <li>Recovery Point Objective (RPO)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Domain 3 Section -->
            <section id="domain3" class="section">
                <h2>Domain 3: Information Security Program</h2>
                
                <div class="domain-card">
                    <div class="domain-header">
                        <div class="domain-title">Information Security Program Development and Management</div>
                        <div class="domain-weight">33% of Exam</div>
                    </div>
                    <p>This domain covers implementing information security strategies and developing comprehensive security programs, guidelines, procedures, and metrics.</p>
                </div>

                <h3>📊 Domain Overview</h3>
                <p>Information Security Program Management focuses on translating security strategy into operational reality through program development, implementation, and management. This is the highest-weighted domain in the CISM exam.</p>

                <h3>🎯 Sub-domains and Topics</h3>
                
                <div class="subdomain">
                    <h4>A. Information Security Program Development</h4>
                    <ul>
                        <li><strong>Information Security Program Resources:</strong> People, tools, technologies, and budget allocation</li>
                        <li><strong>Information Asset Identification and Classification:</strong> Data classification schemes and asset inventory</li>
                        <li><strong>Industry Standards and Frameworks:</strong> Implementation of security frameworks and standards</li>
                        <li><strong>Information Security Policies, Procedures and Guidelines:</strong> Development and maintenance of security documentation</li>
                        <li><strong>Information Security Program Metrics:</strong> KPIs and measurement frameworks</li>
                    </ul>
                </div>

                <div class="subdomain">
                    <h4>B. Information Security Program Management</h4>
                    <ul>
                        <li><strong>Information Security Control Design and Selection:</strong> Choosing and designing appropriate controls</li>
                        <li><strong>Information Security Control Implementation and Integration:</strong> Deploying controls across the organization</li>
                        <li><strong>Information Security Control Testing and Evaluation:</strong> Assessing control effectiveness</li>
                        <li><strong>Information Security Awareness and Training:</strong> Education programs and culture development</li>
                        <li><strong>Management of External Services:</strong> Third-party, fourth-party, and vendor management</li>
                        <li><strong>Information Security Program Communications and Reporting:</strong> Stakeholder communication and reporting</li>
                    </ul>
                </div>

                <h3>🎯 Key Supporting Tasks</h3>
                <div class="highlight">
                    <ul>
                        <li>Establish and maintain information security program aligned with strategy</li>
                        <li>Align information security program with operational objectives</li>
                        <li>Establish and maintain information security processes and resources</li>
                        <li>Establish, communicate, and maintain organizational security documentation</li>
                        <li>Establish, promote, and maintain awareness and training programs</li>
                        <li>Integrate security requirements into organizational processes</li>
                        <li>Integrate security requirements into external party contracts</li>
                        <li>Monitor external parties' adherence to security requirements</li>
                        <li>Define and monitor management and operational metrics</li>
                    </ul>
                </div>

                <h3>📚 Study Focus Areas</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Program Components</h4>
                        <ul>
                            <li>Security architecture design</li>
                            <li>Control frameworks (NIST, ISO 27002)</li>
                            <li>Security awareness programs</li>
                            <li>Vendor management programs</li>
                            <li>Security metrics and KPIs</li>
                            <li>Compliance monitoring</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Implementation Areas</h4>
                        <ul>
                            <li>Access control systems</li>
                            <li>Security monitoring and logging</li>
                            <li>Incident response procedures</li>
                            <li>Business continuity planning</li>
                            <li>Third-party risk management</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Domain 4 Section -->
            <section id="domain4" class="section">
                <h2>Domain 4: Incident Management</h2>
                
                <div class="domain-card">
                    <div class="domain-header">
                        <div class="domain-title">Information Security Incident Management</div>
                        <div class="domain-weight">30% of Exam</div>
                    </div>
                    <p>This domain provides comprehensive training in incident management, including preparedness, response, recovery, and continuous improvement.</p>
                </div>

                <h3>📊 Domain Overview</h3>
                <p>Information Security Incident Management encompasses all activities related to preparing for, responding to, and recovering from security incidents. It ensures organizational resilience and continuous improvement of security posture.</p>

                <h3>🎯 Sub-domains and Topics</h3>
                
                <div class="subdomain">
                    <h4>A. Incident Management Readiness</h4>
                    <ul>
                        <li><strong>Incident Response Plan:</strong> Comprehensive planning for incident response activities</li>
                        <li><strong>Business Impact Analysis (BIA):</strong> Understanding critical business functions and dependencies</li>
                        <li><strong>Business Continuity Plan (BCP):</strong> Ensuring business operations continue during incidents</li>
                        <li><strong>Disaster Recovery Plan (DRP):</strong> Restoring IT systems and operations after incidents</li>
                        <li><strong>Incident Classification/Categorization:</strong> Systematic approach to incident triage and prioritization</li>
                        <li><strong>Incident Management Training, Testing and Evaluation:</strong> Preparedness through exercises and training</li>
                    </ul>
                </div>

                <div class="subdomain">
                    <h4>B. Incident Management Operations</h4>
                    <ul>
                        <li><strong>Incident Management Tools and Techniques:</strong> Technology and methodologies for incident response</li>
                        <li><strong>Incident Investigation and Evaluation:</strong> Forensic analysis and evidence preservation</li>
                        <li><strong>Incident Containment Methods:</strong> Strategies to limit incident impact and spread</li>
                        <li><strong>Incident Response Communications:</strong> Internal and external communication protocols</li>
                        <li><strong>Incident Eradication and Recovery:</strong> Removing threats and restoring normal operations</li>
                        <li><strong>Post-Incident Review Practices:</strong> Lessons learned and continuous improvement</li>
                    </ul>
                </div>

                <h3>🎯 Key Supporting Tasks</h3>
                <div class="highlight">
                    <ul>
                        <li>Establish and maintain incident response plan aligned with BCP and DRP</li>
                        <li>Establish and maintain incident classification and categorization process</li>
                        <li>Develop processes for timely identification of security incidents</li>
                        <li>Establish processes to investigate and document incidents per legal requirements</li>
                        <li>Establish incident handling processes including containment and recovery</li>
                        <li>Organize, train, equip, and assign responsibilities to incident response teams</li>
                        <li>Establish incident communication plans for internal and external parties</li>
                        <li>Evaluate incident management plans through testing and exercises</li>
                        <li>Conduct post-incident reviews for continuous improvement</li>
                    </ul>
                </div>

                <h3>📚 Study Focus Areas</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Incident Response Framework</h4>
                        <ul>
                            <li>NIST Incident Response Framework</li>
                            <li>SANS Incident Response Process</li>
                            <li>ISO 27035 Incident Management</li>
                            <li>ENISA Incident Response Guidelines</li>
                            <li>Industry-specific frameworks</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Recovery Metrics</h4>
                        <ul>
                            <li>Recovery Time Objective (RTO)</li>
                            <li>Recovery Point Objective (RPO)</li>
                            <li>Mean Time to Recovery (MTTR)</li>
                            <li>Maximum Tolerable Downtime (MTD)</li>
                            <li>Work Recovery Time (WRT)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Assessment Section -->
            <section id="assessment" class="section">
                <h2>Assessment Center</h2>
                
                <div class="quiz-container">
                    <div class="quiz-setup" id="quizSetup">
                        <h3>Practice Quiz Configuration</h3>
                        
                        <div style="margin: 20px 0;">
                            <label for="domainSelect">Select Domain:</label>
                            <select id="domainSelect">
                                <option value="all">Official CISM Simulation (150 questions)</option>
                                <option value="domain1">Domain 1 - Information Security Governance</option>
                                <option value="domain2">Domain 2 - Information Security Risk Management</option>
                                <option value="domain3">Domain 3 - Information Security Program</option>
                                <option value="domain4">Domain 4 - Incident Management</option>
                                <option value="mixed">Mixed Domains Practice</option>
                            </select>
                        </div>

                        <div style="margin: 20px 0;" id="questionCountDiv">
                            <label for="questionCount">Number of Questions:</label>
                            <select id="questionCount">
                                <option value="5">5 Questions</option>
                                <option value="10">10 Questions</option>
                                <option value="15">15 Questions</option>
                                <option value="20" selected>20 Questions</option>
                                <option value="25">25 Questions</option>
                                <option value="30">30 Questions</option>
                            </select>
                        </div>

                        <div style="margin: 20px 0;">
                            <label for="timerEnabled">Enable Timer:</label>
                            <input type="checkbox" id="timerEnabled" checked>
                            <span style="margin-left: 10px; font-size: 0.9rem; color: #666;">
                                (Official exam: 4 hours for 150 questions = 1.6 minutes per question)
                            </span>
                        </div>

                        <button onclick="startQuiz()">Start Quiz</button>
                    </div>

                    <div id="quizArea" style="display: none;">
                        <div class="question-card">
                            <div class="question-header">
                                <div class="question-number" id="questionNumber">Question 1 of 20</div>
                                <div class="timer" id="timer">02:00</div>
                            </div>
                            
                            <div class="question-text" id="questionText">
                                Loading question...
                            </div>
                            
                            <ul class="options" id="optionsList">
                                <!-- Options will be populated by JavaScript -->
                            </ul>
                        </div>

                        <div class="quiz-controls">
                            <button class="quiz-btn" onclick="previousQuestion()" id="prevBtn" disabled>Previous</button>
                            <button class="quiz-btn" onclick="nextQuestion()" id="nextBtn">Next</button>
                            <button class="quiz-btn" onclick="finishQuiz()" id="finishBtn" style="display: none;">Finish Quiz</button>
                        </div>

                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                    </div>

                    <div id="results" style="display: none;">
                        <div class="results">
                            <div class="score" id="finalScore">0%</div>
                            <div id="scoreMessage">Assessment Complete</div>
                            <div id="domainBreakdown"></div>
                            
                            <div style="margin-top: 20px;">
                                <button class="quiz-btn" onclick="reviewAnswers()">Review Answers</button>
                                <button class="quiz-btn" onclick="restartQuiz()">Start New Quiz</button>
                            </div>
                        </div>
                    </div>

                    <div id="reviewArea" style="display: none;">
                        <h3>Answer Review</h3>
                        <div id="reviewContent">
                            <!-- Review content will be populated by JavaScript -->
                        </div>
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="quiz-btn" onclick="backToResults()">Back to Results</button>
                            <button class="quiz-btn" onclick="restartQuiz()">Start New Quiz</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Navigation functionality
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active class from all nav buttons
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => btn.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked nav button
            event.target.classList.add('active');
        }

        // Quiz functionality
        let currentQuiz = {
            questions: [],
            currentQuestion: 0,
            answers: [],
            startTime: null,
            timerEnabled: false,
            timerInterval: null,
            timePerQuestion: 96 // seconds (1.6 minutes)
        };

        // Sample question bank
        const questionBank = {
            domain1: [
                {
                    question: "Which of the following is the PRIMARY responsibility of information security governance?",
                    options: [
                        "Implementing technical controls",
                        "Ensuring alignment between security strategy and business objectives",
                        "Conducting vulnerability assessments",
                        "Managing security incidents"
                    ],
                    correct: 1,
                    explanation: "Information security governance's primary responsibility is ensuring alignment between security strategy and business objectives, providing strategic direction and oversight."
                },
                {
                    question: "What is the MOST important factor when developing an information security strategy?",
                    options: [
                        "Available budget constraints",
                        "Current threat landscape",
                        "Organizational business objectives",
                        "Existing technical infrastructure"
                    ],
                    correct: 2,
                    explanation: "Organizational business objectives should be the primary driver when developing an information security strategy to ensure proper alignment and support."
                },
                {
                    question: "Which governance framework is MOST commonly used for IT governance and management?",
                    options: [
                        "ISO 27001",
                        "NIST Cybersecurity Framework",
                        "COBIT",
                        "ITIL"
                    ],
                    correct: 2,
                    explanation: "COBIT (Control Objectives for Information and Related Technology) is specifically designed for IT governance and management."
                },
                {
                    question: "The PRIMARY purpose of an information security policy is to:",
                    options: [
                        "Provide detailed technical procedures",
                        "Define high-level security requirements and expectations",
                        "List all security controls",
                        "Describe incident response procedures"
                    ],
                    correct: 1,
                    explanation: "Information security policies provide high-level security requirements and expectations, serving as the foundation for more detailed standards and procedures."
                },
                {
                    question: "Who should have PRIMARY accountability for information security governance?",
                    options: [
                        "Chief Information Security Officer (CISO)",
                        "IT Department",
                        "Board of Directors and Senior Management",
                        "Information Security Team"
                    ],
                    correct: 2,
                    explanation: "The Board of Directors and Senior Management have primary accountability for information security governance as part of their overall organizational oversight responsibilities."
                }
            ],
            domain2: [
                {
                    question: "Which of the following is the FIRST step in the risk management process?",
                    options: [
                        "Risk assessment",
                        "Risk identification",
                        "Risk treatment",
                        "Risk monitoring"
                    ],
                    correct: 1,
                    explanation: "Risk identification is the first step in the risk management process, as you must identify risks before you can assess, treat, or monitor them."
                },
                {
                    question: "What does Recovery Time Objective (RTO) represent?",
                    options: [
                        "Maximum acceptable data loss",
                        "Time to detect an incident",
                        "Maximum acceptable downtime",
                        "Time to implement recovery procedures"
                    ],
                    correct: 2,
                    explanation: "Recovery Time Objective (RTO) represents the maximum acceptable downtime for a system or process after a disruption."
                },
                {
                    question: "Which risk treatment option involves purchasing insurance?",
                    options: [
                        "Risk acceptance",
                        "Risk avoidance",
                        "Risk mitigation",
                        "Risk transfer"
                    ],
                    correct: 3,
                    explanation: "Risk transfer involves shifting the risk to another party, such as through insurance or outsourcing agreements."
                },
                {
                    question: "A qualitative risk assessment is MOST appropriate when:",
                    options: [
                        "Precise monetary values are required",
                        "Statistical data is readily available",
                        "Expert judgment and experience are primary inputs",
                        "Regulatory compliance requires quantitative analysis"
                    ],
                    correct: 2,
                    explanation: "Qualitative risk assessment is most appropriate when expert judgment and experience are the primary inputs, especially when quantitative data is limited."
                },
                {
                    question: "What is the PRIMARY purpose of a Business Impact Analysis (BIA)?",
                    options: [
                        "Identify threats and vulnerabilities",
                        "Determine the impact of disruptions on business operations",
                        "Calculate the return on security investments",
                        "Assess the effectiveness of controls"
                    ],
                    correct: 1,
                    explanation: "The primary purpose of a Business Impact Analysis (BIA) is to determine the impact of disruptions on business operations and identify critical business functions."
                }
            ],
            domain3: [
                {
                    question: "Which of the following is the MOST important consideration when selecting security controls?",
                    options: [
                        "Cost of implementation",
                        "Alignment with risk assessment results",
                        "Vendor recommendations",
                        "Industry best practices"
                    ],
                    correct: 1,
                    explanation: "Security controls should be selected based on alignment with risk assessment results to ensure they address identified risks effectively."
                },
                {
                    question: "What is the PRIMARY objective of security awareness training?",
                    options: [
                        "Ensure compliance with policies",
                        "Reduce help desk calls",
                        "Modify user behavior to reduce security risks",
                        "Demonstrate due diligence"
                    ],
                    correct: 2,
                    explanation: "The primary objective of security awareness training is to modify user behavior to reduce security risks and create a security-conscious culture."
                },
                {
                    question: "Which metric would be MOST useful for measuring the effectiveness of a security awareness program?",
                    options: [
                        "Number of training sessions conducted",
                        "Percentage of employees who completed training",
                        "Reduction in security incidents caused by human error",
                        "Cost per training session"
                    ],
                    correct: 2,
                    explanation: "The reduction in security incidents caused by human error is the most useful metric as it directly measures the effectiveness of changing user behavior."
                },
                {
                    question: "When managing third-party security risks, what should be the FIRST priority?",
                    options: [
                        "Conducting on-site security assessments",
                        "Including security requirements in contracts",
                        "Monitoring third-party security practices",
                        "Performing background checks on third-party personnel"
                    ],
                    correct: 1,
                    explanation: "Including security requirements in contracts should be the first priority as it establishes the legal foundation for security expectations and obligations."
                },
                {
                    question: "What is the MOST effective way to ensure ongoing compliance with security policies?",
                    options: [
                        "Regular policy reviews and updates",
                        "Automated monitoring and reporting",
                        "Employee acknowledgment forms",
                        "Periodic security audits"
                    ],
                    correct: 1,
                    explanation: "Automated monitoring and reporting is the most effective way to ensure ongoing compliance as it provides continuous oversight and real-time detection of policy violations."
                }
            ],
            domain4: [
                {
                    question: "What is the FIRST step in the incident response process?",
                    options: [
                        "Containment",
                        "Detection and analysis",
                        "Eradication",
                        "Recovery"
                    ],
                    correct: 1,
                    explanation: "Detection and analysis is the first step in the incident response process, as you must first identify and understand the incident before taking action."
                },
                {
                    question: "Which of the following should be the PRIMARY concern during incident containment?",
                    options: [
                        "Preserving evidence",
                        "Preventing further damage",
                        "Identifying the root cause",
                        "Restoring normal operations"
                    ],
                    correct: 1,
                    explanation: "Preventing further damage should be the primary concern during incident containment to limit the scope and impact of the incident."
                },
                {
                    question: "What is the PRIMARY purpose of a post-incident review?",
                    options: [
                        "Assign blame for the incident",
                        "Calculate the cost of the incident",
                        "Identify lessons learned and improve processes",
                        "Document legal compliance"
                    ],
                    correct: 2,
                    explanation: "The primary purpose of a post-incident review is to identify lessons learned and improve processes to prevent similar incidents and enhance response capabilities."
                },
                {
                    question: "Which factor is MOST important when prioritizing incident response efforts?",
                    options: [
                        "Time of day the incident occurred",
                        "Business impact and urgency",
                        "Number of systems affected",
                        "Skill level of available responders"
                    ],
                    correct: 1,
                    explanation: "Business impact and urgency are the most important factors when prioritizing incident response efforts to focus on incidents that could cause the most harm to the organization."
                },
                {
                    question: "What should be included in an incident communication plan?",
                    options: [
                        "Technical details of the incident",
                        "Contact information and escalation procedures",
                        "Root cause analysis results",
                        "Recovery time estimates"
                    ],
                    correct: 1,
                    explanation: "An incident communication plan should include contact information and escalation procedures to ensure proper and timely communication during incidents."
                }
            ]
        };

        function startQuiz() {
            const domain = document.getElementById('domainSelect').value;
            const questionCount = parseInt(document.getElementById('questionCount').value);
            const timerEnabled = document.getElementById('timerEnabled').checked;

            // Handle official simulation
            if (domain === 'all') {
                currentQuiz.questions = generateOfficialSimulation();
                currentQuiz.timePerQuestion = 240; // 4 hours for 150 questions = 1.6 minutes = 96 seconds (using 4 minutes for demo)
            } else {
                currentQuiz.questions = generateQuizQuestions(domain, questionCount);
                currentQuiz.timePerQuestion = 96;
            }

            currentQuiz.currentQuestion = 0;
            currentQuiz.answers = new Array(currentQuiz.questions.length).fill(null);
            currentQuiz.startTime = new Date();
            currentQuiz.timerEnabled = timerEnabled;

            document.getElementById('quizSetup').style.display = 'none';
            document.getElementById('quizArea').style.display = 'block';

            if (timerEnabled) {
                startTimer();
            }

            loadQuestion();
        }

        function generateOfficialSimulation() {
            const questions = [];
            
            // Domain 1: 17% of 150 = ~26 questions
            questions.push(...getRandomQuestions('domain1', 26));
            
            // Domain 2: 20% of 150 = 30 questions
            questions.push(...getRandomQuestions('domain2', 30));
            
            // Domain 3: 33% of 150 = ~50 questions
            questions.push(...getRandomQuestions('domain3', 50));
            
            // Domain 4: 30% of 150 = 44 questions (total = 150)
            questions.push(...getRandomQuestions('domain4', 44));
            
            // Shuffle the combined questions
            return shuffleArray(questions);
        }

        function generateQuizQuestions(domain, count) {
            if (domain === 'mixed') {
                const questions = [];
                const domainsArray = ['domain1', 'domain2', 'domain3', 'domain4'];
                const questionsPerDomain = Math.floor(count / 4);
                
                domainsArray.forEach(d => {
                    questions.push(...getRandomQuestions(d, questionsPerDomain));
                });
                
                // Add remaining questions
                const remaining = count - questions.length;
                if (remaining > 0) {
                    questions.push(...getRandomQuestions('domain1', remaining));
                }
                
                return shuffleArray(questions);
            } else {
                return getRandomQuestions(domain, count);
            }
        }

        function getRandomQuestions(domain, count) {
            const domainQuestions = [...questionBank[domain]];
            const selected = [];
            
            // If we need more questions than available, repeat the question pool
            while (selected.length < count) {
                const remaining = count - selected.length;
                const toAdd = Math.min(remaining, domainQuestions.length);
                const shuffled = shuffleArray([...domainQuestions]);
                selected.push(...shuffled.slice(0, toAdd));
            }
            
            return selected.slice(0, count);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function loadQuestion() {
            const question = currentQuiz.questions[currentQuiz.currentQuestion];
            const questionNumber = currentQuiz.currentQuestion + 1;
            const totalQuestions = currentQuiz.questions.length;

            document.getElementById('questionNumber').textContent = `Question ${questionNumber} of ${totalQuestions}`;
            document.getElementById('questionText').textContent = question.question;

            const optionsList = document.getElementById('optionsList');
            optionsList.innerHTML = '';

            question.options.forEach((option, index) => {
                const li = document.createElement('li');
                li.className = 'option';
                li.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                li.onclick = () => selectOption(index);
                
                if (currentQuiz.answers[currentQuiz.currentQuestion] === index) {
                    li.classList.add('selected');
                }
                
                optionsList.appendChild(li);
            });

            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuiz.currentQuestion === 0;
            
            if (currentQuiz.currentQuestion === totalQuestions - 1) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('finishBtn').style.display = 'inline-block';
            } else {
                document.getElementById('nextBtn').style.display = 'inline-block';
                document.getElementById('finishBtn').style.display = 'none';
            }

            // Update progress
            const progress = ((currentQuiz.currentQuestion + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;

            // Reset timer for this question
            if (currentQuiz.timerEnabled) {
                resetQuestionTimer();
            }
        }

        function selectOption(index) {
            // Remove previous selection
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // Add selection to clicked option
            document.querySelectorAll('.option')[index].classList.add('selected');
            
            // Store answer
            currentQuiz.answers[currentQuiz.currentQuestion] = index;
        }

        function previousQuestion() {
            if (currentQuiz.currentQuestion > 0) {
                currentQuiz.currentQuestion--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuiz.currentQuestion < currentQuiz.questions.length - 1) {
                currentQuiz.currentQuestion++;
                loadQuestion();
            }
        }

        function startTimer() {
            let timeLeft = currentQuiz.timePerQuestion;
            
            currentQuiz.timerInterval = setInterval(() => {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 30) {
                    document.getElementById('timer').style.color = '#e53e3e';
                } else {
                    document.getElementById('timer').style.color = '#2d3748';
                }
                
                timeLeft--;
                
                if (timeLeft < 0) {
                    // Auto-advance to next question or finish quiz
                    if (currentQuiz.currentQuestion < currentQuiz.questions.length - 1) {
                        nextQuestion();
                    } else {
                        finishQuiz();
                    }
                }
            }, 1000);
        }

        function resetQuestionTimer() {
            if (currentQuiz.timerInterval) {
                clearInterval(currentQuiz.timerInterval);
            }
            startTimer();
        }

        function finishQuiz() {
            if (currentQuiz.timerInterval) {
                clearInterval(currentQuiz.timerInterval);
            }

            const results = calculateResults();
            displayResults(results);

            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('results').style.display = 'block';
        }

        function calculateResults() {
            let correct = 0;
            const domainResults = { domain1: { correct: 0, total: 0 }, domain2: { correct: 0, total: 0 }, domain3: { correct: 0, total: 0 }, domain4: { correct: 0, total: 0 } };

            currentQuiz.questions.forEach((question, index) => {
                const userAnswer = currentQuiz.answers[index];
                const isCorrect = userAnswer === question.correct;
                
                if (isCorrect) {
                    correct++;
                }

                // Determine domain (simplified approach)
                let domain = 'domain1';
                if (questionBank.domain1.includes(question)) domain = 'domain1';
                else if (questionBank.domain2.includes(question)) domain = 'domain2';
                else if (questionBank.domain3.includes(question)) domain = 'domain3';
                else if (questionBank.domain4.includes(question)) domain = 'domain4';

                if (domainResults[domain]) {
                    domainResults[domain].total++;
                    if (isCorrect) domainResults[domain].correct++;
                }
            });

            const percentage = Math.round((correct / currentQuiz.questions.length) * 100);
            const passed = percentage >= 70; // Assuming 70% pass rate for practice

            return {
                correct,
                total: currentQuiz.questions.length,
                percentage,
                passed,
                domainResults
            };
        }

        function displayResults(results) {
            document.getElementById('finalScore').textContent = `${results.percentage}%`;
            
            let message = '';
            if (results.percentage >= 90) {
                message = 'Excellent! You\'re well prepared for the CISM exam.';
            } else if (results.percentage >= 80) {
                message = 'Good performance! Continue studying to improve your readiness.';
            } else if (results.percentage >= 70) {
                message = 'Passing score, but more study is recommended.';
            } else {
                message = 'More study is needed before taking the actual exam.';
            }
            
            document.getElementById('scoreMessage').textContent = message;

            // Display domain breakdown
            let breakdown = '<h4>Domain Performance:</h4>';
            Object.entries(results.domainResults).forEach(([domain, result]) => {
                if (result.total > 0) {
                    const domainPercentage = Math.round((result.correct / result.total) * 100);
                    const domainName = getDomainName(domain);
                    breakdown += `<p><strong>${domainName}:</strong> ${result.correct}/${result.total} (${domainPercentage}%)</p>`;
                }
            });
            
            document.getElementById('domainBreakdown').innerHTML = breakdown;
        }

        function getDomainName(domain) {
            const names = {
                domain1: 'Information Security Governance',
                domain2: 'Information Security Risk Management', 
                domain3: 'Information Security Program',
                domain4: 'Incident Management'
            };
            return names[domain] || domain;
        }

        function reviewAnswers() {
            let reviewHTML = '';
            
            currentQuiz.questions.forEach((question, index) => {
                const userAnswer = currentQuiz.answers[index];
                const isCorrect = userAnswer === question.correct;
                const questionNumber = index + 1;
                
                reviewHTML += `
                    <div class="question-card">
                        <div class="question-header">
                            <div class="question-number">Question ${questionNumber}</div>
                            <div style="color: ${isCorrect ? '#38a169' : '#e53e3e'}; font-weight: bold;">
                                ${isCorrect ? '✓ Correct' : '✗ Incorrect'}
                            </div>
                        </div>
                        
                        <div class="question-text">${question.question}</div>
                        
                        <ul class="options">
                `;
                
                question.options.forEach((option, optIndex) => {
                    let optionClass = 'option';
                    if (optIndex === question.correct) {
                        optionClass += ' correct';
                    } else if (optIndex === userAnswer && userAnswer !== question.correct) {
                        optionClass += ' incorrect';
                    } else if (optIndex === userAnswer) {
                        optionClass += ' selected';
                    }
                    
                    reviewHTML += `
                        <li class="${optionClass}">
                            ${String.fromCharCode(65 + optIndex)}. ${option}
                            ${optIndex === question.correct ? ' ✓' : ''}
                            ${optIndex === userAnswer && userAnswer !== question.correct ? ' ✗' : ''}
                        </li>
                    `;
                });
                
                reviewHTML += `
                        </ul>
                        
                        <div class="highlight">
                            <strong>Explanation:</strong> ${question.explanation}
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('reviewContent').innerHTML = reviewHTML;
            document.getElementById('results').style.display = 'none';
            document.getElementById('reviewArea').style.display = 'block';
        }

        function backToResults() {
            document.getElementById('reviewArea').style.display = 'none';
            document.getElementById('results').style.display = 'block';
        }

        function restartQuiz() {
            // Reset quiz state
            currentQuiz = {
                questions: [],
                currentQuestion: 0,
                answers: [],
                startTime: null,
                timerEnabled: false,
                timerInterval: null,
                timePerQuestion: 96
            };

            // Clear any running timers
            if (currentQuiz.timerInterval) {
                clearInterval(currentQuiz.timerInterval);
            }

            // Hide all quiz areas and show setup
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            document.getElementById('reviewArea').style.display = 'none';
            document.getElementById('quizSetup').style.display = 'block';

            // Reset domain selection to update question count options
            updateQuestionCountOptions();
        }

        // Handle domain selection change to show/hide question count for official simulation
        document.getElementById('domainSelect').addEventListener('change', function() {
            updateQuestionCountOptions();
        });

        function updateQuestionCountOptions() {
            const domain = document.getElementById('domainSelect').value;
            const questionCountDiv = document.getElementById('questionCountDiv');
            const questionCountSelect = document.getElementById('questionCount');
            
            if (domain === 'all') {
                questionCountDiv.style.display = 'none';
                // Official simulation is always 150 questions
            } else {
                questionCountDiv.style.display = 'block';
                questionCountSelect.innerHTML = `
                    <option value="5">5 Questions</option>
                    <option value="10">10 Questions</option>
                    <option value="15">15 Questions</option>
                    <option value="20" selected>20 Questions</option>
                    <option value="25">25 Questions</option>
                    <option value="30">30 Questions</option>
                `;
            }
        }

        // Initialize the question count options on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateQuestionCountOptions();
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (document.getElementById('quizArea').style.display !== 'none') {
                switch(event.key) {
                    case 'ArrowLeft':
                        if (!document.getElementById('prevBtn').disabled) {
                            previousQuestion();
                        }
                        break;
                    case 'ArrowRight':
                        if (currentQuiz.currentQuestion < currentQuiz.questions.length - 1) {
                            nextQuestion();
                        }
                        break;
                    case '1':
                    case '2':
                    case '3':
                    case '4':
                        const optionIndex = parseInt(event.key) - 1;
                        if (optionIndex < currentQuiz.questions[currentQuiz.currentQuestion].options.length) {
                            selectOption(optionIndex);
                        }
                        break;
                    case 'a':
                    case 'A':
                        selectOption(0);
                        break;
                    case 'b':
                    case 'B':
                        selectOption(1);
                        break;
                    case 'c':
                    case 'C':
                        selectOption(2);
                        break;
                    case 'd':
                    case 'D':
                        selectOption(3);
                        break;
                }
            }
        });
    </script>
</body>
</html>
